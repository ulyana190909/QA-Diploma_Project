_План по автоматизации тестирования cервиса покупки тура, взаимодействующего с СУБД и API Банка._  
_Приложение предлагает купить тур по определённой цене по дебетовой карте, либо в кредит, по данным банковской карты._
![](/https://github.com/ulyana190909/QA-Diploma_Project/scrinshots/web.png)

#### Перечень автоматизируемых сценариев.
##### Тестирование UI.

###### Требования к содержимому полей:
* Номер карты:
    * Поле должно содержать только цифры, в количестве - 16.  
    * Недопустим ввод в поле любых символов/букв.  
    * Недопустима отправка заявки с меньшим или большим количеством цифр.  
* Месяц:  
    * Поле должно содержать только цифры, от  01 до 12.  
    * Количество цифр в поле - 2.  
    * Недопустима отправка заявки с меньшим или большим количеством цифр.  
    * Недопустима отправка заявки с месяцем предшедствующем текущему, текущего года.  
* Год:  
    * Поле должно содержать только цифры значений от 20 до 25 (т.е. +5 лет от текущего года).  
    * Количество цифр в поле - 2.  
    * Недопустима отправка заявки с меньшим или большим количеством цифр.  
* Владелец:  
    * Допустимо заполнение поля на любой языковой раскладке (русский, английский, китайский).  
    * Допустимо применение знака "-".  
    * Допустимо заполнение поля верхним и нижним регистром.  
    * Минимальное количество букв - 2, максимальное - 45.  
    * Недопустимо применение символов и цифр (кроме указанного выше).  
    * Допустимое количество пробелов - 1, между фамилией и имененем.  
* CVC/CVV:  
    * Допустимо заполнение поля только цифрами. Количество - 3.  
    * Недопустимо заполнение поля символами, буквами.  
    * Недопустимо заполение поля большим или меньшим количеством цифр.  
     
###### Happy Path. 
Позитивные сценарии, при которых все поля заполнены верно.  
___ 
_Сценарий 1._  
_Отправить заявку на покупку тура с валидным заполнением всех полей._
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 10
    * год: 23
    * владелец: LOMAKIN MIKHAIL
    * CVC/CVV: 899
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должно появиться окно:  

![success result](/D:/Diploma_Project/scrinshots/success.png)
___
_Сценарий 2._  
_Отправить заявку на покупку тура с валидным заполнением полей. (двойная фамилия)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 8
    * год: 22
    * владелец: Ramzina-Novikova Sofia
    * CVC/CVV: 588
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должно появиться окно:  

![success result](/D:/Diploma_Project/scrinshots/success.png)
___
_Сценарий 3._  
_Указание владельца карты на кириллице._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 11
    * год: 21
    * владелец: ЛОЛИТА ВЕРСНАНОВА
    * CVC/CVV: 152
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должно появиться окно:  

![success result](/D:/Diploma_Project/scrinshots/success.png)
___
_Сценарий 4._  
_Указание владельца карты на китайском._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 10
    * год: 23
    * владелец: 玉林  刘
    * CVC/CVV: 899
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должно появиться окно:  

![success result](/D:/Diploma_Project/scrinshots/success.png)
___
Все выше описанные сценарии протестировать со вкладкой "Купить в кредит".
___

##### Sad Path  
Негативные сценарии, при который одно или несколько из полей заполнены неверно.
___
_Сценарий 1._   
_Отправить заявку с пустым полем "Номер карты"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 
    * месяц: 05
    * год: 22
    * владелец: PETROVA OLGA
    * CVC/CVV: 125
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Номер карты" : "Неверный формат".

![](/D:/Diploma_Project/scrinshots/invalid-card.png)
___
_Сценарий 2._  
_Отправить заявку с несуществующим номером карты._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 5865
    * месяц: 09
    * год: 21
    * владелец: CYCOEVA ADELINA
    * CVC/CVV: 856
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должно появиться окно с ошибкой:

![](/D:/Diploma_Project/scrinshots/error.png)
___
_Сценарий 3._  
_Отправить заявку с недостаточным количеством цифр в номере карты._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 444
    * месяц: 12
    * год: 20
    * владелец: KARAMZIN VLADIMIR
    * CVC/CVV: 885
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Номер карты" : "Неверный формат".

![](/D:/Diploma_Project/scrinshots/error1.png)
___
_Сценарий 4._  
_Некорректное написание месяца действия карты._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 8
    * год: 21
    * владелец: OLEG POPOV
    * CVC/CVV: 710
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должен появиться текст в поле "Месяц": "Неверный формат"

![](/D:/Diploma_Project/scrinshots/uncorrect-month.png)
___
_Сценарий 5._  
_Невалидный месяц действия карты._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 15
    * год: 21
    * владелец: OLGA MATVEEVA
    * CVC/CVV: 562
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должен появиться текст в поле "Месяц": "Неверно указан срок действия карты".

![](/D:/Diploma_Project/scrinshots/invalid-month15.png)
___
_Сценарий 6._  
_Отправить заявку с пустым полем "Месяц"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 
    * год: 21
    * владелец: ARINA NUPIVA
    * CVC/CVV: 562
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должен появиться текст в поле "Месяц": "Неверный формат".

![](/D:/Diploma_Project/scrinshots/invalid-month1.png)
___
_Сценарий 7._  
_Невалидный год действия карты._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 10
    * год: 29
    * владелец: ELIZAVETA MOROZOVA
    * CVC/CVV: 168
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должен появиться текст в поле "Месяц": "Неверно указан срок действия карты".

![](/D:/Diploma_Project/scrinshots/invalid-year.png)
___
_Сценарий 8._  
_Указание просроченного срока действия карты._ 
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 10
    * год: 20
    * владелец: MIROSLAVA ANTONOVA
    * CVC/CVV: 700
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должен появиться текст в поле "Месяц": "Неверно указан срок действия карты".

![](/D:/Diploma_Project/scrinshots/uncorrect-validity-of-the-card.png)
___
_Сценарий 9._  
_Отправить заявку с пустым полем "Год"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 12
    * год: 
    * владелец: STEPAN MUH
    * CVC/CVV: 041
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Месяц": "Неверный формат".

![](/D:/Diploma_Project/scrinshots/invalid-year3.png)
___
_Сценарий 10._  
_Отправить заявку с некорректным значением в поле "Год"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 12
    * год: 2
    * владелец: MAMAEVA ZINA
    * CVC/CVV: 078
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Год": "Неверный формат"

![](/D:/Diploma_Project/scrinshots/invalid-year2.png)
___
_Сценарий 11._  
_Отправить заявку с пустым полем "Владелец"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 09
    * год: 25
    * владелец: 
    * CVC/CVV: 589
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Поле обязательно для заполнения".

![](/D:/Diploma_Project/scrinshots/uncorrect-owner.png)
___
_Сценарий 12._  
_Отправить заявку некорректным заполнением поля "Владелец"(со знаками и цифрами)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 02
    * год: 23
    * владелец: yusypova margarita/.=61
    * CVC/CVV: 030
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Неверный формат".
___
_Сценарий 13._  
_Отправить заявку некорректным заполнением поля "Владелец" (c большим количеством пробелов)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 24
    * владелец: loponov      (между фамилией и именем 5 пробелов)                                          fillip 
    * CVC/CVV: 999
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Неверный формат".
___
_Сценарий 14._  
_Отправить заявку некорректным заполнением поля "Владелец" (заполнение поля цифрами)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 24
    * владелец: 4444 4444 4444 4441
    * CVC/CVV: 999
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Неверный формат".
___
_Сценарий 15._  
_Отправить заявку некорректным заполнением поля "Владелец" (заполнение поля одной буквой)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 24
    * владелец: Л
    * CVC/CVV: 985
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Неверный формат".
___
_Сценарий 16._  
_Отправить заявку с невалидным значением в поле "Владелец" (заполнение поля большим количеством букв)._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 08
    * год: 24
    * владелец: ЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛЛ
    * CVC/CVV: 985
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "Владелец" : "Неверный формат".
___
_Сценарий 17_  
_Отправить заявку с пустым полем "CVC/CVV"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 24
    * владелец: SIDOROV PETR
    * CVC/CVV: 
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "CVC/CVV" : "Неверный формат".

![](/D:/Diploma_Project/scrinshots/invalid-format.png)
___
_Сценарий 18_  
_Отправить заявку с невалидным значением в поле: "CVC/CVV"._  
1. Зайти на сайт http://localhost:8080/  
1. Кликнуть на поле "Купить".
1. Заполнить данные карты тестовыми данными:
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 24
    * владелец: BOGOMAZOVA MARIIA
    * CVC/CVV: 14
4. Кликнуть на окно "Продолжить"
5. Оценить время отправки заявки и результат.
Должнен появиться текст в поле "CVC/CVV" : "Неверный формат".

![](/D:/Diploma_Project/scrinshots/invalid-CVC.png)  
___
Выше писанные сценарии протестировать со вкладкой "Купить в кредит".
___

#### Тестирование API
Проверка через API банковские карты и их статусы в БД.

_Сценарий 1_
1. Отправляем данные карты на http://localhost:8080/api/v1/pay 
    * номер карты: 4444 4444 4444 4441
    * месяц: 01
    * год: 24
    * владелец: SIDOROV PETR
    * CVC/CVV: 852
1. Должны получить ответ от сервера - код 200, статус карты APPROVED.
___
_Сценарий 2_
1. Отправляем данные карты на http://localhost:8080/api/v1/pay 
     * номер карты: 4444 4444 4444 4442
     * месяц: 01
     * год: 24
     * владелец: SIDOROV PETR
     * CVC/CVV: 852
1. Должны получить ответ от сервера - код 200, статус карты DECLINED.
___
_Сценарий 3_
1. Отправляем данные карты на http://localhost:8080/api/v1/credit
     * номер карты: 4444 4444 4444 4441
     * месяц: 01
     * год: 24
     * владелец: SIDOROV PETR
     * CVC/CVV: 852
1. Должны получить ответ от сервера - код 200, статус карты APPROVED.
___
_Сценарий 4_
1. Отправляем данные карты на http://localhost:8080/api/v1/credit
     * номер карты: 4444 4444 4444 4442
     * месяц: 01
     * год: 24
     * владелец: SIDOROV PETR
     * CVC/CVV: 852
должны получить ответ от сервера - код 200, статус карты DECLINED.
___
#### Перечень используемых инструментов:
 
* IntelliJ IDEA - интегрированная среда разработки программного обеспечения. Community Edition является полностью свободной версией, пользователи которого имеют права на его неограниченную установку, запуск, свободное использование, изучение и тд. В ней реализована полная поддержка Java SE и других языков программирования, а также интеграция с наиболее популярными системами управления версиями. 
* Java 11 - хорошо организованный язык с богатой функциональностью в стандартных библиотеках. Позволяет работать на всех ОС.
* Gradle - система автоматической сборки проекта. Легко настраивается, файлы сбоки Gradle менее подробны (т.е. требует меньшего написания кода), так же система имеет множество хороших плагинов.
* Rest-assured - представляет собой богатую Java-библиотеку, которую можно использовать для тестирования REST-служб, основанных на HTTP.
* JUnit5 - платформа написания автотестов и их запуска, содержит множество аннотаций и assert’ов.
* Selenide - фреймворк для автоматизированного тестирования веб-приложений. Простой в настройке и удобный в использовании.
* Faker - плагин, позволяющий генерировать случайные данные (логин, пароль и т.п.).
* Lombok - инструмент, позволяющий написать код с меньшим количеством строк, сделать его более читаемым.
* Docker - программное обеспечение для автоматизации развёртывания и управления приложениями в средах с поддержкой контейнеризации.
* Allure - фрейворк для создания визуальной картины выполнения тестов. Дает подробный результат прохождения тестов.
* Система CI AppVeyor - нужна для проверки правильности написания кода. Имеется интеграция с Github, простое подключение и настройка.
* Сервис GitHub - место для хранения кода и авто-тестов.


#### Перечень и описание возможных рисков при автоматизации:
* Риск падения сайта.
* Дополнительная нагрузка на сайт.
* Изменение структуры сайта.
* Недоступность, либо сложность в нахождении css-селекторов.
* Некорректность тестовых данных при работе с Faker.
* Проблемы в работе банковских сервисов.


#### Интервальная оценка с учётом рисков:
1й этап: планирование автоматизации тестирования - 16 часов.  
2й этап: автоматизация - 72 часа.  
3й этап: подготовка отчётных документов по итогам автоматизированного тестирования - 8 часов.  
4й этап: подготовка отчётных документов по итогам автоматизации - 8 часов.  
Дополнительное время на решение непредвиденных ситуций - 16 часов.  


#### План сдачи работ:

Написание авто-тестов в течение 11 рабочих дней, после согласования плана тестирования. Ориентировочный срок - до 08.12.2020.  
Отчетные документы по итогам автоматизации и автоматизированного тестирования после написания авто-тестов, в течении двух рабочих дней. Ориентировочный срок - до 10.12.2020.  


